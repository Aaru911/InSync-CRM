<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <style>
        .navbar {
            background-color: #ffffff;
            color: #1f1d1d;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
        }

        .navbar-logo {
            font-size: 24px;
            font-weight: bold;
        }

        .navbar-menu {
            list-style-type: none;
            display: flex;
            gap: 10px;
            margin: 0;
            padding: 0;
        }

        .navbar-menu li {
            margin-right: 10px;
        }

        .navbar-menu li a {
            text-decoration: none;
            color: #1f1d1d;
            padding: 5px;
            transition: color 0.3s ease;
        }

        .navbar-menu li a:hover {
            color: #ffcc00;
        }
    </style>
    <nav class="navbar">
        <div class="navbar-logo">
            <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50 50">
                <path
                    d="M25 0C11.2 0 0 11.2 0 25s11.2 25 25 25 25-11.2 25-25S38.8 0 25 0zm0 47C12.9 47 3 37.1 3 25S12.9 3 25 3s22 9.9 22 22-9.9 22-22 22z" />
                <path
                    d="M25 11.5c-7.7 0-14 6.3-14 14s6.3 14 14 14 14-6.3 14-14-6.3-14-14-14zm0 25c-6.6 0-12-5.4-12-12s5.4-12 12-12 12 5.4 12 12-5.4 12-12 12z" />
                <path
                    d="M25 17.5c-2.8 0-5 2.2-5 5s2.2 5 5 5 5-2.2 5-5-2.2-5-5-5zm0 8c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3z" />
            </svg>
        </div>
        <ul class="navbar-menu">
            <li><a href="/">Home</a></li>
            <li><a href="/add">Add Entry</a></li>
            <li><a href="view">View Entries</a></li>
        </ul>
    </nav>
    </style>
    <br>
    <br>

    <table style="border-collapse: collapse; width: 100%; margin: 0 auto;">
        <thead>
            <tr>
                <th style="border: 1px solid black; padding: 8px;">Name</th>
                <th style="border: 1px solid black; padding: 8px;">Phone</th>
                <th style="border: 1px solid black; padding: 8px;">NOP</th>
                <th style="border: 1px solid black; padding: 8px;">AC</th>
                <th style="border: 1px solid black; padding: 8px;">Non-AC</th>
                <th style="border: 1px solid black; padding: 8px;">Check-in</th>
                <th style="border: 1px solid black; padding: 8px;">Check-out</th>
                <th style="border: 1px solid black; padding: 8px;">Options</th>
            </tr>
        </thead>
        <tbody>
            {{#each data}}
            <tr>
                <td style="border: 1px solid black; padding: 8px;text-align: center;">{{this.name}}</td>
                <td style="border: 1px solid black; padding: 8px;text-align: center;">{{this.phone}}</td>
                <td style="border: 1px solid black; padding: 8px;text-align: center;">{{this.nop}}</td>
                <td style="border: 1px solid black; padding: 8px;text-align: center;">{{this.ac}}</td>
                <td style="border: 1px solid black; padding: 8px;text-align: center;">{{this.nonac}}</td>
                <td style="border: 1px solid black; padding: 8px;text-align: center;" id="ind{{@index}}">{{this.checkin}}</td>
                <td style="border: 1px solid black; padding: 8px;text-align: center;" id="outd{{@index}}">{{this.checkout}}</td>
                <td style="border: 1px solid black; padding: 8px;text-align: center;">
                    <a href="/edit/{{this._id}}">Edit</a>
                    <a href="/delete/{{this._id}}">Delete</a>   
            </tr>
            {{/each}}
        </tbody>
    </table>
    
</body>
<script>
    const checkinElements = document.querySelectorAll("[id^='ind']");
    const checkoutElements = document.querySelectorAll("[id^='outd']");
    
    checkinElements.forEach((element, index) => {
        const checkin = new Date(element.innerHTML);
        element.innerHTML = checkin.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric', year: 'numeric' });
    });
    
    checkoutElements.forEach((element, index) => {
        const checkout = new Date(element.innerHTML);
        element.innerHTML = checkout.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric', year: 'numeric' });
    });
</script>


</html>